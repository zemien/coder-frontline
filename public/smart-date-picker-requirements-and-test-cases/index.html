<!DOCTYPE html>
<html lang="en-nz">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta itemprop="name" content="Smart Date Picker: Requirements and Test Cases">
<meta itemprop="description" content="I hinted three weeks ago that I wished to learn functional reactive programming by implementing a smart date picker. Since then I shared my impressions on the book but have yet to delve into actually working on the control. I haven&rsquo;t had much time to read the book (curse you, Uncharted 4), and so I am still a bit clueless about where to start. It&rsquo;s time to take the plunge though, and I will outline my stumbles through thinking about business requirements from a data perspective. In this post I flesh out the requirements and test cases a bit more and think about how they rely on each other."><meta itemprop="datePublished" content="2016-07-02T22:49:16&#43;12:00" />
<meta itemprop="dateModified" content="2016-07-02T22:49:16&#43;12:00" />
<meta itemprop="wordCount" content="1067">
<meta itemprop="keywords" content="" /><meta property="og:title" content="Smart Date Picker: Requirements and Test Cases" />
<meta property="og:description" content="I hinted three weeks ago that I wished to learn functional reactive programming by implementing a smart date picker. Since then I shared my impressions on the book but have yet to delve into actually working on the control. I haven&rsquo;t had much time to read the book (curse you, Uncharted 4), and so I am still a bit clueless about where to start. It&rsquo;s time to take the plunge though, and I will outline my stumbles through thinking about business requirements from a data perspective. In this post I flesh out the requirements and test cases a bit more and think about how they rely on each other." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/smart-date-picker-requirements-and-test-cases/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-07-02T22:49:16&#43;12:00" />
<meta property="article:modified_time" content="2016-07-02T22:49:16&#43;12:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Smart Date Picker: Requirements and Test Cases"/>
<meta name="twitter:description" content="I hinted three weeks ago that I wished to learn functional reactive programming by implementing a smart date picker. Since then I shared my impressions on the book but have yet to delve into actually working on the control. I haven&rsquo;t had much time to read the book (curse you, Uncharted 4), and so I am still a bit clueless about where to start. It&rsquo;s time to take the plunge though, and I will outline my stumbles through thinking about business requirements from a data perspective. In this post I flesh out the requirements and test cases a bit more and think about how they rely on each other."/>

	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">
	<link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
	<link rel="shortcut icon" href="/favicon.ico">

	<title>Smart Date Picker: Requirements and Test Cases</title>
	<link rel="stylesheet" href="/css/style.min.f74778e3020c87c304fb5982e09b92ba63a5c7f202996d4c7283d6057acfe9c1.css" integrity="sha256-90d44wIMh8ME+1mC4JuSumOlx/ICmW1McoPWBXrP6cE=" crossorigin="anonymous">
	<style>.bg-img {background-image: url('/wp-content/uploads/sites/2/2016/06/in-royal-cloacks-they-stood-henk-sijgers.jpg');}</style>
</head>

<body id="page">
	
	<header id="site-header" class="animated slideInUp">
		<div class="hdr-wrapper section-inner">
			<div class="hdr-left">
				<div class="site-branding">
					<a href="/">Coder Frontline</a>
				</div>
				<nav class="site-nav hide-in-mobile">
					
				<a href="/posts/">Posts</a>
				<a href="/categories/">Categories</a>

				</nav>
			</div>
			<div class="hdr-right hdr-icons">
				<button id="img-btn" class="hdr-btn" title="Featured Image"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-image"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg></button><span class="hdr-social hide-in-mobile"><a href="https://www.linkedin.com/in/shawnlamnz" target="_blank" rel="noopener me" title="Linkedin"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg></a><a href="https://github.com/zemien" target="_blank" rel="noopener me" title="Github"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a></span><button id="menu-btn" class="hdr-btn" title="Menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button>
			</div>
		</div>
	</header>
	<div id="mobile-menu" class="animated fast">
		<ul>
			<li><a href="/posts/">Posts</a></li>
			<li><a href="/categories/">Categories</a></li>
		</ul>
	</div>


	<div class="bg-img"></div>
	<main class="site-main section-inner animated fadeIn faster">
		<article class="thin">
			<header class="post-header">
				<div class="post-meta"><span>Jul 2, 2016</span></div>
				<h1>Smart Date Picker: Requirements and Test Cases</h1>
			</header>
			<div class="content">
				<p>I hinted three weeks ago that I wished to <a href="/events-are-evil/">learn functional reactive programming</a> by implementing a smart date picker. Since then I shared my <a href="/first-impressions-functional-reactive-programming-sodium/">impressions on the book</a> but have yet to delve into actually working on the control. I haven&rsquo;t had much time to read the book (curse you, Uncharted 4), and so I am still a bit clueless about where to start. It&rsquo;s time to take the plunge though, and I will outline my stumbles through thinking about business requirements from a data perspective. In this post I flesh out the requirements and test cases a bit more and think about how they rely on each other.</p>
<h2 id="requirements">Requirements<a href="#requirements" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<p>Let&rsquo;s first revisit the smart date picker itself and explain the requirements a bit more. It looks something like this:<figure id="attachment_148" style="width: 300px" class="wp-caption aligncenter"></p>
<p><img class="size-medium wp-image-148" src="/wp-content/uploads/sites/2/2016/06/Smart-Date-Picker.png" alt="Smart date picker" width="300" height="153" srcset="/wp-content/uploads/sites/2/2016/06/Smart-Date-Picker.png 300w, /wp-content/uploads/sites/2/2016/06/Smart-Date-Picker.png 570w" sizes="(max-width: 300px) 100vw, 300px" /><figcaption class="wp-caption-text">Smart Date Picker</figcaption></figure></p>
<p>This control is used as part of a larger data reporting app. Users select how they wish to view the data – by weeks, months, or calendar quarters. They then pick the dates they wish to run the report for. The start and end dates will automatically adjust (also known as bumping) to ensure a valid report range. Specifically, weeks will always be Sunday to Saturday, months will always go from the first to the end of a month, and quarters will go from the first of a quarter to the end of another quarter.</p>
<h2 id="test-cases">Test Cases<a href="#test-cases" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<p>Here are some test cases (dates in dd/MM/yy):</p>
<ol>
<li>By weeks: Currently showing 12/06/16 (Sunday) to 18/06/16 (Saturday)
<ol>
<li>Change start date to 29/06/16 (Sunday). It now shows 29/05/16 to 18/06/16.</li>
<li>Change start date to 01/06/16 (Wednesday). It now shows 29/05/16 to 18/06/16.</li>
<li>Change start date to 27/06/16 (Monday). It now shows 26/06/16 to 02/07/16 (bumps both date to ensure a valid range).</li>
</ol>
</li>
<li>By months: Currently showing 01/06/16 (first of the month) to 30/06/16 (last of the month).
<ol>
<li>Change end date to 27/06/16. It now shows 01/06/16 to 30/06/16 (no change).</li>
<li>Change end date to 31/07/16. It now shows 01/06/16 to 31/07/16.</li>
<li>Change end date to 28/02/16. It now shows 01/02/16 to 29/02/16.</li>
</ol>
</li>
<li>By quarters: Currently showing 01/01/16 (first day of quarter 1) to 30/06/16 (last day of quarter 2).
<ol>
<li>Change start date to 15/03/16. It now shows 01/01/16 to 30/06/16 (no change).</li>
<li>Change end date to 15/03/16. It now shows 01/01/16 to 31/03/16.</li>
<li>Change start date to 01/10/16. It now shows 01/10/16 to 31/12/16.</li>
</ol>
</li>
</ol>
<p>An additional constraint to the basic rules is the amount of data available. It can only show dates for when data can be reported, and bump dates as necessary. The requirements state that this comes from a SQL query, but for the purposes of this exercise, it will be mocked to only have data for 2016.</p>
<p>Extending the test cases above for data availability 01/01/16 to 31/12/16:</p>
<ol>
<li>By weeks: Currently showing 12/06/16 (Sunday) to 18/06/16 (Saturday) <ol start="4">
 <li>
   Change end date to 15/02/17. It now shows 12/06/16 to 31/12/16 (Saturday).
 </li>
 <li>
   Change start date to 15/02/17. It now shows 25/12/16 (Sunday) to 31/12/16 (Saturday).
 </li>
</li>
</ol>
<pre><code>&lt;/ol&gt;
</code></pre>
<ol start="2">
<li>By months: Currently showing 01/06/16 (first of the month) to 30/06/16 (last of the month). <ol start="4">
 <li>
   Change start date to 15/02/17. It now shows 01/12/16 to 31/12/16.
 </li>
 <li>
   Change end date to 20/12/15. It now shows 01/01/16 to 31/01/16.
 </li>
</li>
</ol>
<pre><code>&lt;/ol&gt;
</code></pre>
<ol start="3">
<li>By quarters: Currently showing 01/01/16 (first day of quarter 1) to 30/06/16 (last day of quarter 2). <ol start="4">
 <li>
   Change end date to 15/05/15. It now shows 01/01/16 to 31/03/16.
 </li>
 <li>
   Change start date to 23/08/17. It now shows 01/10/16 to 31/12/16.
 </li>
</li>
</ol>
<pre><code>&lt;/ol&gt;
</code></pre>
<p>There are cases where there wouldn’t be enough data to create a valid range. In those instances, it stops bumping and selects the minimum or maximum date of the data availability.</p>
<p>Tests might look like this:</p>
<ol start="4">
  <li>
    Control currently set to Weeks and showing 12/06/16 to 18/06/16. Data only available for 05/06/16 to 30/08/16. <ol>
      <li>
        The user changes to Quarterly reporting. It now shows 05/06/16 to 30/06/16 even though it is not a whole quarter because that is the most valid it can get.
      </li>
      <li>
        The user changes to Monthly reporting. It now shows 05/06/16 to 30/06/16.
      </li>
    </ol>
  </li>
</ol>
<h2 id="data-and-dependencies">Data and Dependencies<a href="#data-and-dependencies" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<p>Those are the general requirements of the smart date picker. I have implemented this in regular C# WPF MVVM architecture, but it produced hard-to-understand code and I ran into issues with some edge cases. I now want to see how it might look like if I redid it using FRP.</p>
<p>A key difference with functional-style programming is the focus on thinking about the problem in terms of how data depends on each other, and then declaring those relationships in code. This contrasts wildly from traditional imperative-style programming where we tell the computer what we want to do and how to do it.</p>
<p>It’s been hard grasping FRP concepts because it required me to change my paradigm from thinking about the sequence of events to just focusing on how data relates to each other. I still remember trying to learn object-oriented programming in uni. It threw me into a mental loop because I had been happy using Visual Basic and couldn’t understand why coding objects was “better” than coding modules and forms. And one day I just got it. I suspect the same struggle lies ahead.</p>
<p>So the first baby step towards thinking in the “problem space”, as the FRP book authors put it, is to map out the data and how they depend on each other. This exercise is surprisingly rare in modern OOP programming even though it’s a logical next step after you have the requirements. Instead, TDD/BDD practitioners jump straight into crafting unit tests that map to requirements, while others segue into defining a sequence of events.</p>
<p>The data and dependency diagram for the smart date picker might look something like this:<figure id="attachment_177" style="width: 600px" class="wp-caption aligncenter"></p>
<p><img class="size-medium wp-image-177" src="/wp-content/uploads/sites/2/2016/07/Smart-Date-Picker-Data-Flow.png" alt="Smart Date Picker Data Flow Diagram" width="600" height="530" srcset="/wp-content/uploads/sites/2/2016/07/Smart-Date-Picker-Data-Flow.png 300w, /wp-content/uploads/sites/2/2016/07/Smart-Date-Picker-Data-Flow.png 768w, /wp-content/uploads/sites/2/2016/07/Smart-Date-Picker-Data-Flow.png 1024w" sizes="(max-width: 600px) 100vw, 600px" /><figcaption class="wp-caption-text">Smart Date Picker Data Flow Diagram</figcaption></figure></p>
<p>Consider the above a first draft. I might move things around as I understand more FRP.</p>
<p><em>This is part of an ongoing series where I review the book <a href="https://www.manning.com/books/functional-reactive-programming">Functional Reactive Programming by Stephen Blackheath and Anthony Jones</a>. Kindly note that anything I write here may be incorrect and not indicative of the author’s intent. After all, making mistakes is the mother of learning and this book review is meant to be a truthful reflection of my own experiences grasping a new concept. The review copy I received was version 11 in their Manning’s Early Access Program, so the book’s contents may differ at the time of publication.</em></p>
<p>Photo credit: <a href="https://www.flickr.com/photos/henk-sijgers">henk.sijgers (on when I can)</a> via <a href="https://visualhunt.com/photos/city/">VisualHunt</a> / <a href="http://creativecommons.org/licenses/by-nc/2.0/">CC BY-NC</a></p>
			</div>
			<hr class="post-end">
			<footer class="post-info">
				<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>1067 Words</p>
				<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>2016-07-02 22:49 &#43;1200</p>
			</footer>
		</article>
		<div class="post-nav thin">
			<a class="next-post" href="/smart-date-picker-cells-and-streams/">
				<span class="post-nav-label"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>&nbsp;Newer</span><br><span>Smart Date Picker: Cells and Streams</span>
			</a>
			<a class="prev-post" href="/more-impressions-functional-reactive-programming-with-sodium/">
				<span class="post-nav-label">Older&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><br><span>More Impressions Functional Reactive Programming with Sodium</span>
			</a>
		</div>
		<div id="comments" class="thin">
</div>
	</main>

	<footer id="site-footer" class="section-inner thin animated fadeIn faster">
		<p>&copy; 2021 <a href="/">Shawn Lam</a> &#183; <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></p>
		<p>
			Made with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> &#183; Theme <a href="https://github.com/Track3/hermit" target="_blank" rel="noopener">Hermit</a> &#183; <a href="/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a>
		</p>
	</footer>



	<script src="/js/bundle.min.7d8545daa55d62427355498dd8da13f98ff79a7938ce7d2a5e2ae1ec0de3beb8.js" integrity="sha256-fYVF2qVdYkJzVUmN2NoT+Y/3mnk4zn0qXirh7A3jvrg=" crossorigin="anonymous"></script>
	
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-74441668-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</body>

</html>
